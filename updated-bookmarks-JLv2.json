{
  "Copy Full HTML": {
    "code": "(function(){var h=document.documentElement.outerHTML;var t=document.createElement('textarea');t.value='<!DOCTYPE html>\\n'+h;document.body.appendChild(t);t.select();try{var s=document.execCommand('copy');var m=s?'successful':'unsuccessful';console.log('Copying HTML was '+m)}catch(e){console.error('Unable to copy HTML: ',e)}document.body.removeChild(t);alert('Full HTML has been copied to the clipboard! ('+h.length+' characters)')})();",
    "folder": "DOM Tools"
  },
  "Count Words": {
    "code": "(function(){var words = document.body.innerText.trim().split(/s+/).length; alert('This page contains approximately ' + words + ' words.');})();",
    "folder": "DOM Tools"
  },
  "GA Tag Review": {
    "code": "(function(){javascript:(function()%7Bfunction e()%7Blet e%3D%5B%5D%3Breturn\"undefined\"!%3Dtypeof ga%26%26ga(function()%7Bga.getAll().forEach(function(t)%7Be.push(\"UA%3A \"%2Bt.get(\"trackingId\"))%7D)%7D)%2C\"undefined\"!%3Dtypeof gtag%26%26Object.keys(window).filter(e%3D>e.startsWith(\"gtag_\")).forEach(function(t)%7Be.push(\"GA4%3A \"%2Bt.split(\"_\")%5B1%5D)%7D)%2C\"undefined\"!%3Dtypeof google_tag_manager%26%26Object.keys(google_tag_manager).forEach(function(t)%7Bt.startsWith(\"GT\")%26%26e.push(\"GTM%3A \"%2Bt)%7D)%2C\"undefined\"!%3Dtypeof dataLayer%26%26dataLayer.length>0%26%26dataLayer.forEach(function(t)%7B\"config\"%3D%3D%3Dt%5B0%5D%26%26t%5B1%5D.startsWith(\"G-\")%26%26e.push(\"GA4 (dataLayer)%3A \"%2Bt%5B1%5D)%7D)%2Ce%7Dfunction t()%7Blet t%3De()%2Cn%3Dt.length>0%3F\"Google Analytics Codes found%3A%5Cn%5Cn\"%2Bt.join(\"%5Cn\")%3A\"No Google Analytics codes found. The site might be using a different analytics solution or the GA code hasn't loaded yet.\"%3Balert(n)%3Blet o%3Ddocument.createElement(\"textarea\")%3Bo.value%3Dn%2Cdocument.body.appendChild(o)%2Co.select()%2Cdocument.execCommand(\"copy\")%2Cdocument.body.removeChild(o)%2Cconsole.log(n)%2Cconsole.log(\"Results copied to clipboard!\")%7Dt()%7D)()%3B})();",
    "folder": "Analytics"
  },
  "HTML to Markdown": {
    "code": "(function(){function e(e){let t=e.replace(/^(https?:\\/\\/)?(www\\.)?/,'').replace(/[/?#]/g,'_');return`${t}_${new Date().toISOString().split('T')[0]}.md`}function t(){return document.body.innerText}function n(e,t){let n=new Blob([e],{type:\"text/markdown;charset=utf-8\"}),o=document.createElement(\"a\");o.href=URL.createObjectURL(n),o.download=t,o.style.display=\"none\",document.body.appendChild(o),o.click(),document.body.removeChild(o)}let o=t(),a=e(window.location.href);n(o,a)})();",
    "folder": "DOM Tools"
  },
  "Internal Links to TXT": {
    "code": "(function(){javascript:(function(){let links=Array.from(document.querySelectorAll('a')).map(a=>{let selector=a.closest('[class]')?a.closest(%27[class]%27).getAttribute(%27class%27):%27No specific class%27;return`${selector}: ${a.href}`;});let uniqueLinks=Array.from(new Set(links));let date=new Date().toISOString().split(%27T%27)[0];let content=`Extracted on ${date}\\n\\n${uniqueLinks.join(%27\\n%27)}`;let blob=new Blob([content],{type:%27text/plain%27});let a=document.createElement(%27a%27);a.href=URL.createObjectURL(blob);let cleanName=document.location.hostname.replace(/^www\\./,%27%27)+document.location.pathname.replace(/[^a-z0-9]/gi,%27_%27);a.download=`links_${cleanName}_${date}.txt`;a.click();URL.revokeObjectURL(a.href);})();})();",
    "folder": "DOM Tools"
  },
  "Jump Links to Console": {
    "code": "(function(){javascript:(function()%7Bfunction e()%7Blet e%3Ddocument.querySelectorAll('a%5Bhref%5E%3D\"%23\"%5D')%2Ct%3D%5B%5D%3Breturn e.forEach(e%3D>%7Blet n%3De.getAttribute(\"href\")%2Cr%3Dn.substring(1)%2Ci%3Ddocument.getElementById(r)%3Bt.push(%7Bhref%3An%2Ctext%3Ae.textContent.trim()%7C%7C\"%5BNo Text%5D\"%2Cvalid%3A\"%23\"%3D%3D%3Dn%7C%7C!!i%7D)%7D)%2Ct%7Dfunction t(e)%7Blet t%3D\"All Jump Links%3A%5Cn%5Cn\"%3Be.forEach(e%3D>%7Blet n%3De.valid%3F\"Valid\"%3A\"Broken\"%3Bt%2B%3D%60%24%7Be.href%7D (%24%7Be.text%7D) - %24%7Bn%7D%5Cn%60%7D)%2Calert(t)%3Blet n%3Ddocument.createElement(\"textarea\")%3Bn.value%3Dt%2Cdocument.body.appendChild(n)%2Cn.select()%2Cdocument.execCommand(\"copy\")%2Cdocument.body.removeChild(n)%2Cconsole.log(t)%2Cconsole.log(\"Results copied to clipboard!\")%7Dlet n%3De()%3Bt(n)%7D)()%3B})();",
    "folder": "DOM Tools"
  },
  "Schema to TXT": {
    "code": "(function(){javascript:(function(){function e(){return Array.from(document.querySelectorAll('script[type=\"application/ld+json\"]')).map(e=>e.textContent).join(\"\\n\\n\")}function t(){return Array.from(document.querySelectorAll(\"[itemscope]\")).map(e=>Array.from(e.querySelectorAll(\"[itemprop]\")).map(e=>`${e.getAttribute(\"itemprop\")}: ${e.textContent.trim()}`).join(\"\\n\")).join(\"\\n\\n\")}function n(e){return e.replace(/^(https?:\\/\\/)?(www\\.)?/,\"\").replace(/[^a-z0-9]/gi,\"_\").toLowerCase()}const o=e(),r=t(),c=`JSON-LD:\\n${o}\\n\\nMicrodata:\\n${r}`,a=n(window.location.hostname+window.location.pathname),i=new Date().toISOString().split(\"T\")[0],l=`${a}_${i}.txt`,s=new Blob([c],{type:\"text/plain\"}),p=document.createElement(\"a\");p.href=URL.createObjectURL(s),p.download=l,p.click(),URL.revokeObjectURL(p.href)})();})();",
    "folder": "DOM Tools"
  },
  "Tag Checker": {
    "code": "(function(){javascript:(function(){function e(){let e=[],t=document.querySelector('script[src*=\"activation.js\"]'),n=!!window.google_tag_manager,a=!!window.utag;e.push(`Botify script tag present: ${!!t}`),e.push(`Google Tag Manager present: ${n}`),e.push(`Tealium present: ${a}`);let o=[\"Botify\",\"BotifyActivation\",\"_botify\"];o.forEach(t=>{e.push(`Global object \"${t}\" present: ${!!window[t]}`)});let r=performance.getEntriesByType(\"resource\").filter(e=>e.name.includes(\"activation.js\"));e.push(`Botify script loaded: ${r.length>0}`);let i=document.querySelectorAll(\"[data-botify]\");e.push(`Elements with Botify data attributes: ${i.length}`);let s=Array.from(document.scripts).map(e=>({src:e.src,async:e.async,defer:e.defer,type:e.type})),l=performance.getEntriesByType(\"resource\").filter(e=>e.initiatorType===\"script\"),c=l.filter(e=>e.name.includes(\"activation.js\")||e.name.toLowerCase().includes(\"botify\")),d=new Date,u=`${d.getFullYear()}${String(d.getMonth()+1).padStart(2,\"0\")}${String(d.getDate()).padStart(2,\"0\")}`,p=window.location.hostname+window.location.pathname.replace(/[^a-z0-9]/gi,\"-\"),f={results:e,allScripts:s,networkScripts:l,botifyScripts:c},m=JSON.stringify(f,null,2),h=new Blob([m],{type:\"application/json\"}),y=document.createElement(\"a\");y.href=URL.createObjectURL(h),y.download=`tag-audit-${p}-${u}.json`,y.click(),URL.revokeObjectURL(y.href);let w=\"Name,Start Time,Duration,Initiator Type,Delivery Type,Next Hop Protocol,Render Blocking Status,Worker Start,Redirect Start,Redirect End,Fetch Start,Domain Lookup Start,Domain Lookup End,Connect Start,Secure Connection Start,Connect End,Request Start,Response Start,First Interim Response Start,Response End,Transfer Size,Encoded Body Size,Decoded Body Size,Response Status\\n\"+c.map(e=>`\"${e.name}\",${e.startTime},${e.duration},\"${e.initiatorType}\",\"${e.deliveryType}\",\"${e.nextHopProtocol}\",\"${e.renderBlockingStatus}\",${e.workerStart},${e.redirectStart},${e.redirectEnd},${e.fetchStart},${e.domainLookupStart},${e.domainLookupEnd},${e.connectStart},${e.secureConnectionStart},${e.connectEnd},${e.requestStart},${e.responseStart},${e.firstInterimResponseStart},${e.responseEnd},${e.transferSize},${e.encodedBodySize},${e.decodedBodySize},${e.responseStatus}`).join(\"\\n\"),v=new Blob([w],{type:\"text/csv\"}),S=document.createElement(\"a\");S.href=URL.createObjectURL(v),S.download=`botify-scripts-${p}-${u}.csv`,S.click(),URL.revokeObjectURL(S.href),alert(e.join(\"\\n\"))}e();})();})();",
    "folder": "Botify"
  }
}